{% extends "transaction/base.html" %}
{% load crispy_forms_tags %}
{% load mathfilters %}
{% block body %}

<div class="card" style="width: 100%;">
<div class="card-header">
  <h4>Edit Bank Receiving Voucher</h4>
</div>
<ul class="list-group list-group-flush">
<form  action="" id="edit-jv-form-brv" autocomplete="off"  method="post">
  {% csrf_token %}
  <li class="list-group-item">
      <div class="form-row">
        <div class="form-group col-md-2">
          <label for="">Transaction ID</label>
          <input type="text" readonly class="form-control form-control-sm" required value="{{ voucher_header.voucher_no }}" id="account_id">
        </div>
        <div class="form-group col-md-2">
          <label for="">Invoice #</label>
          <input type="text"  class="form-control form-control-sm" required value="{{ voucher_header.doc_no }}" id="doc_no">
        </div>
        <div class="form-group col-md-2">
          <label for="">Invoice Date</label>
          <input type="date"  class="form-control form-control-sm" required value="{{ voucher_header.doc_date|date:'Y-m-d' }}" id="doc_date">
        </div>
        <div class="form-group col-md-2">
          <label for="">Cheque No</label>
          <input type="text"  class="form-control form-control-sm" required value="{{ voucher_header.cheque_no }}" id="cheque_no">
        </div>
        <div class="form-group col-md-2">
          <label for="">Cheque Date</label>
          <input type="date"  class="form-control form-control-sm" required value="{{ voucher_header.cheque_date|date:'Y-m-d' }}" id="cheque_date">
        </div>
      </div>
      <div class="from-row">
        <div class="form-group col-md-2">
          <label for="">Description</label>
          <textarea name="name" style="width:370px; height:30px;" id="description">{{ voucher_header.description }}</textarea>
        </div>
      </div>
      </li>
    <li class="list-group-item">
    <div class="table-title">
        <div class="row">
          <div class="col-md-2">
            <select class="form-control form-control-sm" id="account_title">
              {% for value in all_accounts %}
              <option value="{{value.id}}">{{value.account_title}}</option>
              {% endfor %}
            </select>
          </div>
            <div style="margin-left:20px;">
                <button type="button" class="btn btn-info add-item-brv-edit" id="{{pk}}"><i class="fa fa-plus"></i>Insert Account</button>
            </div>
        </div>
    </div>
    <div class="table table-responsive">
      <table class="table table-bordered" id="edit-brv-table">
          <thead>
              <tr>
                  <th width="100px" style="font-size:10px;">Account Id</th>
                  <th width="150px">Account Title</th>
                  <th width="100px">Debit</th>
                  <th width="100px">Credit</th>
                  <th>Action</th>
              </tr>
          </thead>
          <tbody>
            {% for value in voucher_detail %}
            <tr>
                <td>{{ value.id }}</td>
                <td>{{ value.account_id.account_title }}</td>
                <td>{{ value.debit }}</td>
                <td>{{ value.credit }}</td>
                <td><a class="add-brv-edit" title="Add" data-toggle="tooltip"><i class="material-icons">&#xE03B;</i></a><a class="edit-brv-edit" title="Edit" data-toggle="tooltip"><i class="material-icons">&#xE254;</i></a> <a class="delete-brv-edit" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a></td>
            </tr>
          {% endfor %}
          </tbody>
      </table>
    </div>
    </li>
      <br>
    <div class="text-center">
      <button type="submit" class="btn btn-outline-primary" id="{{pk}}">Update <small>(BR Voucher)</small></button>
    </div>
    <br>
</form>
</ul>
</div>


{% endblock body %}
